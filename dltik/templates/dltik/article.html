{% extends "dltik/base.html" %}

{% block title %}{{ article.title }}{% endblock %}
{% block description %}{{ article.summary }}{% endblock %}

{% block og_title %}{{ article.title }}{% endblock %}
{% block og_description %}{{ article.summary }}{% endblock %}
{% if article.cover_image %}
    {% block og_image %}{{ article.cover_image }}{% endblock %}
{% endif %}

{% block twitter_title %}{{ article.title }}{% endblock %}
{% block twitter_description %}{{ article.summary }}{% endblock %}

{% block content %}
<div class="container py-5">
    <article class="bg-white rounded shadow-sm p-4">
        <header class="mb-4">
            <h1 class="fw-bold">
                {{ article.title }}
            </h1>
            <p class="text-muted fst-italic mb-3">
                <i class="bi bi-calendar3 me-1"></i> {{ article.published_at|date:"d/m/Y" }}
                {% if article.author %}
                    <span class="ms-2"><i class="bi bi-person-fill me-1"></i>{{ article.author.get_full_name|default:article.author.username }}</span>
                {% endif %}
            </p>
        </header>

        <div class="article-body mb-4">
            {{ article.content|safe }}
        </div>

        {% if article.get_tags %}
            <footer class="pt-3 border-top">
                <strong><i class="bi bi-tags me-1"></i>Từ khóa:</strong>
                {% for tag in article.get_tags %}
                    <a href="{% url 'tagged_articles' tag=tag %}" class="badge bg-secondary me-1 text-decoration-none">
                      <i class="bi bi-tag-fill me-1"></i>{{ tag }}
                    </a>
                {% endfor %}
            </footer>
        {% endif %}
    </article>
</div>
{% endblock %}
